<div
  class="group flex justify-between gap-2 bg-zinc-900 text-white p-3 m-2 max-w-70 rounded-lg border border-zinc-800 transition-all duration-200 ease-out hover:bg-zinc-800/70 hover:border-zinc-700 hover:shadow-lg hover:shadow-black/30 hover:scale-[1.02]"
  [class.bg-red-900!]="isDeletingModalOpen"
>
  <div class="flex flex-col gap-2">
    <label
      class="flex w-fit items-center gap-2 cursor-pointer select-none text-sm text-zinc-300 hover:text-white min-h-5 opacity-30 translate-y-1 group-hover:opacity-100 group-hover:translate-y-0 transition-all duration-200 ease-out"
      [class.opacity-100]="done"
      [class.translate-y-0]="done"
    >
      <input [(ngModel)]="done" (change)="changeTaskIsDone()" type="checkbox" class="peer hidden" />

      <span
        class="flex h-4 w-4 items-center justify-center rounded border border-zinc-600 bg-zinc-900 transition-all peer-checked:bg-emerald-600 peer-checked:border-emerald-500"
      >
        <i
          class="pi pi-check text-xs text-white scale-0 peer-checked:scale-100 transition-transform"
        ></i>
      </span>

      Done
    </label>

    <p class="text-zinc-200 transition-all peer-checked:text-zinc-400 peer-checked:line-through">
      {{ task()?.description }}
    </p>
  </div>

  <app-edit-button-component
    (onDelete)="onDeleting()"
    class="opacity-0 group-hover:opacity-100 translate-x-1 group-hover:translate-x-0 transition-all duration-200"
  ></app-edit-button-component>
</div>

<div class="card flex justify-center">
  <p-dialog
    header="Are you sure you want to delete this card?"
    [modal]="true"
    [(visible)]="isDeletingModalOpen"
    [closable]="false"
    [style]="{ width: '25rem' }"
  >
    <div class="flex justify-end gap-2">
      <p-button
        [style]="{ backgroundColor: '#18181c', color: '#ffffff', border: 'none' }"
        class=""
        label="Cancel"
        (click)="isDeletingModalOpen = false"
      />
      <p-button
        [style]="{ backgroundColor: '#ffffff', color: '#18181c', border: 'none' }"
        label="Yes"
        (click)="delete()"
      />
    </div>
  </p-dialog>
</div>
